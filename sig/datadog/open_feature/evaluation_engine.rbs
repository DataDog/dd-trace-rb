module Datadog
  module OpenFeature
    class EvaluationEngine
      class ResolutionError < ::Struct[untyped]
        attr_reader reason: ::String

        attr_reader code: ::String

        attr_reader message: ::String

        def self.new: (?reason: ::String, ?code: ::String, ?message: ::String) -> instance
      end

      ALLOWED_TYPES: ::Array[::Symbol]

      attr_writer configuration: ::String

      def initialize: (Core::Telemetry::Component telemetry, ?logger: Core::Logger) -> void

      def fetch_value: (
        flag_key: ::String,
        expected_type: ::Symbol,
        ?evaluation_context: ::OpenFeature::SDK::EvaluationContext
      ) -> (Binding::ResolutionDetails | ResolutionError)

      def reconfigure!: () -> void
    end
  end
end
