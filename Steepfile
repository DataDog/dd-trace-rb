# Declare shortcuts for Steep::Signature::Ruby to make this file easier to read
# as well as facilitating the findability of violation types emitted by the CLI
# (e.g. the CLI emits `Diagnostic ID: Ruby::UnknownConstant` when finding errors).
Ruby = Steep::Diagnostic::Ruby

target :datadog do
  signature 'sig'

  check 'lib/'

  # This makes Steep check the codebase with the strictest settings.
  # We are free to disable checks if needed inside the block.
  #
  # The default level is `Ruby.default`, and there's an even stricter level called `Ruby.all_error`.
  configure_code_diagnostics(Ruby.strict) do |hash|
    # These checks can be gradually enabled as the codebase cleans up.
    # The reporting levels are:
    # * `:error`, `:warning`: These will fail `rake typecheck` and are always reported by default.
    # * `:information`, `:hint`: To see these, run `rake 'typecheck[--severity-level=information]'`
    #   or `rake 'typecheck[--severity-level=hint]'`

    # This check asks you to type every empty collection used in
    # local variables with an inline type annotation (e.g. `ret = {} #: Hash[Symbol,untyped]`).
    # This pollutes the code base, and demands seemingly unnecessary typing of internal variables.
    # Ideally, these empty collections automatically assume a signature based on its usage inside its method.
    # @see https://github.com/soutaro/steep/pull/1338
    hash[Ruby::UnannotatedEmptyCollection] = :information

    # This one is funny: it is raised whenever we use `super` from a method in a Module.
    # Since there's no guarantee that the module will be included in a class with the matching method,
    # Steep cannot know if the `super` call will be valid.
    # But this is very common in the codebase, as such module are used for monkey-patching.
    hash[Ruby::UnexpectedSuper] = :information
  end

  # Excluded due to https://github.com/soutaro/steep/issues/1232
  ignore 'lib/datadog/appsec/configuration/settings.rb'
  ignore 'lib/datadog/appsec/contrib/active_record/instrumentation.rb'
  ignore 'lib/datadog/appsec/contrib/active_record/integration.rb'
  ignore 'lib/datadog/appsec/contrib/active_record/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/auto_instrument.rb'
  ignore 'lib/datadog/appsec/contrib/devise/configuration.rb'
  ignore 'lib/datadog/appsec/contrib/devise/data_extractor.rb'
  ignore 'lib/datadog/appsec/contrib/devise/ext.rb'
  ignore 'lib/datadog/appsec/contrib/devise/integration.rb'
  ignore 'lib/datadog/appsec/contrib/devise/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/devise/patches/signin_tracking_patch.rb'
  ignore 'lib/datadog/appsec/contrib/devise/patches/signup_tracking_patch.rb'
  ignore 'lib/datadog/appsec/contrib/devise/patches/skip_signin_tracking_patch.rb'
  ignore 'lib/datadog/appsec/contrib/devise/tracking_middleware.rb'
  ignore 'lib/datadog/appsec/contrib/faraday/connection_patch.rb'
  ignore 'lib/datadog/appsec/contrib/faraday/integration.rb'
  ignore 'lib/datadog/appsec/contrib/faraday/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/faraday/rack_builder_patch.rb'
  ignore 'lib/datadog/appsec/contrib/faraday/ssrf_detection_middleware.rb'
  ignore 'lib/datadog/appsec/contrib/graphql/appsec_trace.rb'
  ignore 'lib/datadog/appsec/contrib/graphql/gateway/multiplex.rb'
  ignore 'lib/datadog/appsec/contrib/graphql/gateway/watcher.rb'
  ignore 'lib/datadog/appsec/contrib/graphql/integration.rb'
  ignore 'lib/datadog/appsec/contrib/graphql/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/rack/ext.rb'
  ignore 'lib/datadog/appsec/contrib/rack/gateway/request.rb'
  ignore 'lib/datadog/appsec/contrib/rack/gateway/response.rb'
  ignore 'lib/datadog/appsec/contrib/rack/gateway/watcher.rb'
  ignore 'lib/datadog/appsec/contrib/rack/integration.rb'
  ignore 'lib/datadog/appsec/contrib/rack/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/rack/request_body_middleware.rb'
  ignore 'lib/datadog/appsec/contrib/rack/request_middleware.rb'
  ignore 'lib/datadog/appsec/contrib/rails/ext.rb'
  ignore 'lib/datadog/appsec/contrib/rails/framework.rb'
  ignore 'lib/datadog/appsec/contrib/rails/gateway/request.rb'
  ignore 'lib/datadog/appsec/contrib/rails/gateway/watcher.rb'
  ignore 'lib/datadog/appsec/contrib/rails/integration.rb'
  ignore 'lib/datadog/appsec/contrib/rails/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/rails/patches/process_action_patch.rb'
  ignore 'lib/datadog/appsec/contrib/rails/patches/render_to_body_patch.rb'
  ignore 'lib/datadog/appsec/contrib/rails/request.rb'
  ignore 'lib/datadog/appsec/contrib/rails/request_middleware.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/framework.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/gateway/request.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/gateway/route_params.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/gateway/watcher.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/integration.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/patcher.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/patches/json_patch.rb'
  ignore 'lib/datadog/appsec/contrib/sinatra/request_middleware.rb'
  ignore 'lib/datadog/appsec/monitor/gateway/watcher.rb'
  ignore 'lib/datadog/core/buffer/thread_safe.rb'
  ignore 'lib/datadog/core/configuration.rb'
  ignore 'lib/datadog/core/configuration/base.rb'
  ignore 'lib/datadog/core/configuration/components.rb'
  ignore 'lib/datadog/core/configuration/ext.rb'
  ignore 'lib/datadog/core/configuration/settings.rb'
  ignore 'lib/datadog/core/contrib/rails/utils.rb'
  ignore 'lib/datadog/core/encoding.rb'
  ignore 'lib/datadog/core/environment/identity.rb'
  ignore 'lib/datadog/core/environment/platform.rb'
  ignore 'lib/datadog/core/environment/socket.rb'
  ignore 'lib/datadog/core/environment/variable_helpers.rb'
  ignore 'lib/datadog/core/environment/vm_cache.rb'
  ignore 'lib/datadog/core/metrics/client.rb'
  ignore 'lib/datadog/core/metrics/helpers.rb'
  ignore 'lib/datadog/core/metrics/metric.rb'
  ignore 'lib/datadog/core/metrics/options.rb'
  # steep fails in this file due to https://github.com/soutaro/steep/issues/1231
  ignore 'lib/datadog/core/remote/tie.rb'
  # steep gets lost in module inclusions
  ignore 'lib/datadog/core/remote/transport/http/config.rb'
  ignore 'lib/datadog/core/remote/transport/http/negotiation.rb'
  ignore 'lib/datadog/core/runtime/ext.rb'
  ignore 'lib/datadog/core/runtime/metrics.rb'
  ignore 'lib/datadog/core/transport/http/adapters/net.rb'
  ignore 'lib/datadog/core/transport/http/adapters/unix_socket.rb'
  ignore 'lib/datadog/core/utils/at_fork_monkey_patch.rb' # @ivoanjo: I wasn't able to type this one, it's kinda weird
  ignore 'lib/datadog/core/utils/forking.rb'
  ignore 'lib/datadog/core/utils/hash.rb' # Refinement module
  ignore 'lib/datadog/core/utils/network.rb'
  ignore 'lib/datadog/core/utils/time.rb'
  ignore 'lib/datadog/core/vendor/multipart-post/multipart/post/multipartable.rb'
  ignore 'lib/datadog/core/worker.rb'
  ignore 'lib/datadog/data_streams/configuration/settings.rb'
  ignore 'lib/datadog/core/workers/async.rb'
  ignore 'lib/datadog/core/workers/interval_loop.rb'
  ignore 'lib/datadog/core/workers/polling.rb'
  ignore 'lib/datadog/core/workers/queue.rb'
  ignore 'lib/datadog/core/workers/runtime_metrics.rb'
  ignore 'lib/datadog/di/configuration/settings.rb'
  ignore 'lib/datadog/di/contrib/railtie.rb'
  ignore 'lib/datadog/di/transport/http/api.rb'
  ignore 'lib/datadog/di/transport/http/diagnostics.rb'
  ignore 'lib/datadog/di/transport/http/input.rb'
  # steep thinks the type of the class is 'self', whatever that is,
  # and then complains that this type doesn't have any methods including
  # language basics like 'send' and 'raise'.
  ignore 'lib/datadog/di/probe_notifier_worker.rb'
  ignore 'lib/datadog/error_tracking/configuration/settings.rb'
  ignore 'lib/datadog/kit/appsec/events.rb' # disabled because of https://github.com/soutaro/steep/issues/701
  ignore 'lib/datadog/kit/identity.rb'      # disabled because of https://github.com/soutaro/steep/issues/701
  ignore 'lib/datadog/opentelemetry.rb'
  ignore 'lib/datadog/opentelemetry/api/context.rb'
  ignore 'lib/datadog/opentelemetry/api/trace/span.rb'
  ignore 'lib/datadog/opentelemetry/sdk/configurator.rb'
  ignore 'lib/datadog/opentelemetry/sdk/id_generator.rb'
  ignore 'lib/datadog/opentelemetry/sdk/propagator.rb'
  ignore 'lib/datadog/opentelemetry/sdk/span_processor.rb'
  ignore 'lib/datadog/opentelemetry/sdk/trace/span.rb'
  ignore 'lib/datadog/profiling/scheduler.rb'
  ignore 'lib/datadog/profiling/tag_builder.rb'
  ignore 'lib/datadog/profiling/tasks/setup.rb'
  ignore 'lib/datadog/tracing/buffer.rb'
  ignore 'lib/datadog/tracing/client_ip.rb'
  ignore 'lib/datadog/tracing/component.rb'
  ignore 'lib/datadog/tracing/configuration/ext.rb'
  ignore 'lib/datadog/tracing/configuration/settings.rb'
  ignore 'lib/datadog/tracing/context.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/event.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/events/broadcast.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/events/perform_action.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/events/transmit.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/events.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/ext.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/integration.rb'
  ignore 'lib/datadog/tracing/contrib/action_cable/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/event.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/events/deliver.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/events/process.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/events.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/ext.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/integration.rb'
  ignore 'lib/datadog/tracing/contrib/action_mailer/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/action_controller/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/action_controller/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/action_dispatch/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/action_dispatch/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/ext.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/integration.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_pack/utils.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/event.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/events/render_partial.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/events/render_template.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/events.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/ext.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/integration.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/action_view/utils.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/event.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/discard.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/enqueue.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/enqueue_at.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/enqueue_retry.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/perform.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events/retry_stopped.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/events.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/ext.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/integration.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/log_injection.rb'
  ignore 'lib/datadog/tracing/contrib/active_job/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/event.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/events/render.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/events/serialize.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/events.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/ext.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/integration.rb'
  ignore 'lib/datadog/tracing/contrib/active_model_serializers/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/configuration/makara_resolver.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/configuration/resolver.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/event.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/events/instantiation.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/events/sql.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/events.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/ext.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/integration.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/active_record/utils.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/event.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/events/cache.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/events.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/cache/redis.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/ext.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/integration.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/notifications/event.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/notifications/subscriber.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/notifications/subscription.rb'
  ignore 'lib/datadog/tracing/contrib/active_support/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/analytics.rb'
  ignore 'lib/datadog/tracing/contrib/aws/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/aws/ext.rb'
  ignore 'lib/datadog/tracing/contrib/aws/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/aws/integration.rb'
  ignore 'lib/datadog/tracing/contrib/aws/parsed_context.rb'
  ignore 'lib/datadog/tracing/contrib/aws/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/base.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/dynamodb.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/eventbridge.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/kinesis.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/s3.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/sns.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/sqs.rb'
  ignore 'lib/datadog/tracing/contrib/aws/service/states.rb'
  ignore 'lib/datadog/tracing/contrib/aws/services.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/async_patch.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/context_composite_executor_service.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/ext.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/future_patch.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/integration.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/concurrent_ruby/promises_future_patch.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/ext.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/integration.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/dalli/quantize.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/ext.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/integration.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/plugin.rb'
  ignore 'lib/datadog/tracing/contrib/delayed_job/server_internal_tracer/worker.rb'
  ignore 'lib/datadog/tracing/contrib/elasticsearch/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/elasticsearch/ext.rb'
  ignore 'lib/datadog/tracing/contrib/elasticsearch/integration.rb'
  ignore 'lib/datadog/tracing/contrib/elasticsearch/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/elasticsearch/quantize.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/easy_patch.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/ext.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/integration.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/multi_patch.rb'
  ignore 'lib/datadog/tracing/contrib/ethon/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/excon/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/excon/ext.rb'
  ignore 'lib/datadog/tracing/contrib/excon/integration.rb'
  ignore 'lib/datadog/tracing/contrib/excon/middleware.rb'
  ignore 'lib/datadog/tracing/contrib/excon/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/connection.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/ext.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/integration.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/middleware.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/faraday/rack_builder.rb'
  ignore 'lib/datadog/tracing/contrib/grape/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/grape/endpoint.rb'
  ignore 'lib/datadog/tracing/contrib/grape/ext.rb'
  ignore 'lib/datadog/tracing/contrib/grape/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/grape/integration.rb'
  ignore 'lib/datadog/tracing/contrib/grape/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/configuration/error_extension_env_parser.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/ext.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/integration.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/trace_patcher.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/tracing_patcher.rb'
  ignore 'lib/datadog/tracing/contrib/graphql/unified_trace_patcher.rb'
  ignore 'lib/datadog/tracing/contrib/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/karafka.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/distributed/propagation.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/ext.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/integration.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/monitor.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/karafka/framework.rb' # Steep has issues with block parameter type inference
  ignore 'lib/datadog/tracing/contrib/waterdrop/producer.rb' # Steep can't handle define_method metaprogramming pattern
  ignore 'lib/datadog/tracing/contrib/waterdrop/middleware.rb' # Steep has issues with union type method calls
  ignore 'lib/datadog/tracing/contrib/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/configuration/resolver.rb'
  ignore 'lib/datadog/tracing/contrib/propagation/sql_comment/comment.rb'
  ignore 'lib/datadog/tracing/contrib/propagation/sql_comment/ext.rb'
  ignore 'lib/datadog/tracing/contrib/propagation/sql_comment/mode.rb'
  ignore 'lib/datadog/tracing/contrib/propagation/sql_comment.rb'
  ignore 'lib/datadog/tracing/contrib/ext.rb'
  ignore 'lib/datadog/tracing/contrib/registerable.rb'
  ignore 'lib/datadog/tracing/contrib/roda/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/roda/ext.rb'
  ignore 'lib/datadog/tracing/contrib/roda/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/roda/integration.rb'
  ignore 'lib/datadog/tracing/contrib/roda/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sneakers/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/sneakers/ext.rb'
  ignore 'lib/datadog/tracing/contrib/sneakers/integration.rb'
  ignore 'lib/datadog/tracing/contrib/sneakers/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sneakers/tracer.rb'
  ignore 'lib/datadog/tracing/contrib/trilogy/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/trilogy/ext.rb'
  ignore 'lib/datadog/tracing/contrib/trilogy/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/trilogy/integration.rb'
  ignore 'lib/datadog/tracing/contrib/trilogy/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/auto_instrument.rb'
  ignore 'lib/datadog/tracing/contrib/extensions.rb'
  ignore 'lib/datadog/tracing/contrib/patchable.rb'
  ignore 'lib/datadog/tracing/contrib/span_attribute_schema.rb'
  ignore 'lib/datadog/tracing/contrib/grpc.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/datadog_interceptor/client.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/datadog_interceptor/server.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/datadog_interceptor.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/distributed/fetcher.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/distributed/propagation.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/ext.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/formatting.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/integration.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/intercept_with_datadog.rb'
  ignore 'lib/datadog/tracing/contrib/grpc/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/action_tracer.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/ext.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/integration.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/plugin.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/renderer_policy_tracing.rb'
  ignore 'lib/datadog/tracing/contrib/hanami/router_tracing.rb'
  ignore 'lib/datadog/tracing/contrib/http.rb'
  ignore 'lib/datadog/tracing/contrib/http/circuit_breaker.rb'
  ignore 'lib/datadog/tracing/contrib/http/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/http/distributed/fetcher.rb'
  ignore 'lib/datadog/tracing/contrib/http/distributed/propagation.rb'
  ignore 'lib/datadog/tracing/contrib/http/ext.rb'
  ignore 'lib/datadog/tracing/contrib/http/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/http/integration.rb'
  ignore 'lib/datadog/tracing/contrib/http/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/httpclient/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/httpclient/ext.rb'
  ignore 'lib/datadog/tracing/contrib/httpclient/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/httpclient/integration.rb'
  ignore 'lib/datadog/tracing/contrib/httpclient/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/httprb/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/httprb/ext.rb'
  ignore 'lib/datadog/tracing/contrib/httprb/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/httprb/integration.rb'
  ignore 'lib/datadog/tracing/contrib/httprb/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/integration.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/consumer_event.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/consumer_group_event.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/event.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/connection/request.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer/process_batch.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer/process_message.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer_group/heartbeat.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer_group/join_group.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer_group/leave_group.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/consumer_group/sync_group.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/produce_operation/send_messages.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events/producer/deliver_messages.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/events.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/ext.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/integration.rb'
  ignore 'lib/datadog/tracing/contrib/kafka/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/lograge/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/lograge/ext.rb'
  ignore 'lib/datadog/tracing/contrib/lograge/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/lograge/integration.rb'
  ignore 'lib/datadog/tracing/contrib/lograge/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/ext.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/integration.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/parsers.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/mongodb/subscribers.rb'
  ignore 'lib/datadog/tracing/contrib/mysql2/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/mysql2/ext.rb'
  ignore 'lib/datadog/tracing/contrib/mysql2/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/mysql2/integration.rb'
  ignore 'lib/datadog/tracing/contrib/mysql2/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/opensearch/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/opensearch/ext.rb'
  ignore 'lib/datadog/tracing/contrib/opensearch/integration.rb'
  ignore 'lib/datadog/tracing/contrib/opensearch/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/opensearch/quantize.rb'
  ignore 'lib/datadog/tracing/contrib/pg/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/pg/ext.rb'
  ignore 'lib/datadog/tracing/contrib/pg/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/pg/integration.rb'
  ignore 'lib/datadog/tracing/contrib/pg/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/presto/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/presto/ext.rb'
  ignore 'lib/datadog/tracing/contrib/presto/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/presto/integration.rb'
  ignore 'lib/datadog/tracing/contrib/presto/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/que/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/que/ext.rb'
  ignore 'lib/datadog/tracing/contrib/que/integration.rb'
  ignore 'lib/datadog/tracing/contrib/que/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/que/tracer.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/event.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/events/batch.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/events/consume.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/events/message.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/events.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/ext.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/integration.rb'
  ignore 'lib/datadog/tracing/contrib/racecar/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/rack/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/rack/ext.rb'
  ignore 'lib/datadog/tracing/contrib/rack/header_collection.rb'
  ignore 'lib/datadog/tracing/contrib/rack/header_tagging.rb'
  ignore 'lib/datadog/tracing/contrib/rack/integration.rb'
  ignore 'lib/datadog/tracing/contrib/rack/middlewares.rb'
  ignore 'lib/datadog/tracing/contrib/rack/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/rack/request_queue.rb'
  ignore 'lib/datadog/tracing/contrib/rack/route_from_path_inference.rb'
  ignore 'lib/datadog/tracing/contrib/rack/trace_proxy_middleware.rb'
  ignore 'lib/datadog/tracing/contrib/rails/auto_instrument_railtie.rb'
  ignore 'lib/datadog/tracing/contrib/rails/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/rails/ext.rb'
  ignore 'lib/datadog/tracing/contrib/rails/framework.rb'
  ignore 'lib/datadog/tracing/contrib/rails/integration.rb'
  ignore 'lib/datadog/tracing/contrib/rails/log_injection.rb'
  ignore 'lib/datadog/tracing/contrib/rails/middlewares.rb'
  ignore 'lib/datadog/tracing/contrib/rails/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/rails/railtie.rb'
  ignore 'lib/datadog/tracing/contrib/rails/runner.rb'
  ignore 'lib/datadog/tracing/contrib/rake/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/rake/ext.rb'
  ignore 'lib/datadog/tracing/contrib/rake/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/rake/integration.rb'
  ignore 'lib/datadog/tracing/contrib/rake/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/redis/configuration/resolver.rb'
  ignore 'lib/datadog/tracing/contrib/redis/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/redis/ext.rb'
  ignore 'lib/datadog/tracing/contrib/redis/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/redis/integration.rb'
  ignore 'lib/datadog/tracing/contrib/redis/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/redis/quantize.rb'
  ignore 'lib/datadog/tracing/contrib/redis/tags.rb'
  ignore 'lib/datadog/tracing/contrib/redis/trace_middleware.rb'
  ignore 'lib/datadog/tracing/contrib/redis/vendor/resolver.rb'
  ignore 'lib/datadog/tracing/contrib/registry.rb'
  ignore 'lib/datadog/tracing/contrib/resque/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/resque/ext.rb'
  ignore 'lib/datadog/tracing/contrib/resque/integration.rb'
  ignore 'lib/datadog/tracing/contrib/resque/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/resque/resque_job.rb'
  ignore 'lib/datadog/tracing/contrib/rest_client/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/rest_client/ext.rb'
  ignore 'lib/datadog/tracing/contrib/rest_client/integration.rb'
  ignore 'lib/datadog/tracing/contrib/rest_client/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/rest_client/request_patch.rb'
  ignore 'lib/datadog/tracing/contrib/semantic_logger/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/semantic_logger/ext.rb'
  ignore 'lib/datadog/tracing/contrib/semantic_logger/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/semantic_logger/integration.rb'
  ignore 'lib/datadog/tracing/contrib/semantic_logger/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/database.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/dataset.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/ext.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/integration.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sequel/utils.rb'
  ignore 'lib/datadog/tracing/contrib/shoryuken/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/shoryuken/ext.rb'
  ignore 'lib/datadog/tracing/contrib/shoryuken/integration.rb'
  ignore 'lib/datadog/tracing/contrib/shoryuken/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/shoryuken/tracer.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/client_tracer.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/distributed/propagation.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/ext.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/integration.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_internal_tracer/heartbeat.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_internal_tracer/job_fetch.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_internal_tracer/redis_info.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_internal_tracer/scheduled_poller.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_internal_tracer/stop.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/server_tracer.rb'
  ignore 'lib/datadog/tracing/contrib/sidekiq/utils.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/env.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/ext.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/framework.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/integration.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/tracer.rb'
  ignore 'lib/datadog/tracing/contrib/sinatra/tracer_middleware.rb'
  ignore 'lib/datadog/tracing/contrib/stripe/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/stripe/ext.rb'
  ignore 'lib/datadog/tracing/contrib/stripe/integration.rb'
  ignore 'lib/datadog/tracing/contrib/stripe/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/stripe/request.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/configuration/settings.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/exception_handler.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/ext.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/instrumentation.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/integration.rb'
  ignore 'lib/datadog/tracing/contrib/sucker_punch/patcher.rb'
  ignore 'lib/datadog/tracing/contrib/utils.rb'
  ignore 'lib/datadog/tracing/diagnostics/environment_logger.rb'
  ignore 'lib/datadog/tracing/diagnostics/health.rb'
  ignore 'lib/datadog/tracing/distributed/datadog.rb'
  ignore 'lib/datadog/tracing/distributed/datadog_tags_codec.rb'
  ignore 'lib/datadog/tracing/distributed/propagation.rb'
  ignore 'lib/datadog/tracing/distributed/trace_context.rb'
  ignore 'lib/datadog/tracing/event.rb'
  ignore 'lib/datadog/tracing/metadata/errors.rb'
  ignore 'lib/datadog/tracing/metadata/ext.rb'
  ignore 'lib/datadog/tracing/sampling/matcher.rb'
  ignore 'lib/datadog/tracing/sampling/rate_by_service_sampler.rb'
  ignore 'lib/datadog/tracing/sampling/rule.rb'
  ignore 'lib/datadog/tracing/sampling/rule_sampler.rb'
  ignore 'lib/datadog/tracing/sampling/span/rule.rb'
  ignore 'lib/datadog/tracing/sync_writer.rb'
  ignore 'lib/datadog/tracing/trace_operation.rb'
  ignore 'lib/datadog/tracing/tracer.rb'
  ignore 'lib/datadog/tracing/transport/http.rb'
  ignore 'lib/datadog/tracing/transport/http/api.rb'
  ignore 'lib/datadog/tracing/transport/http/client.rb'
  ignore 'lib/datadog/tracing/transport/http/traces.rb'
  ignore 'lib/datadog/tracing/transport/io/client.rb'
  ignore 'lib/datadog/tracing/transport/io/traces.rb'
  ignore 'lib/datadog/tracing/transport/statistics.rb'
  ignore 'lib/datadog/tracing/transport/trace_formatter.rb'
  ignore 'lib/datadog/tracing/workers.rb'
  ignore 'lib/datadog/tracing/workers/trace_writer.rb'
  ignore 'lib/datadog/tracing/writer.rb'

  # References `RubyVM::YJIT`, which does not have type information.
  ignore 'lib/datadog/core/environment/yjit.rb'

  library 'bundler'
  library 'pathname'
  library 'cgi'
  library 'logger', 'monitor'
  library 'json'
  library 'ipaddr'
  library 'net-http'
  library 'securerandom'
  library 'digest'
  library 'zlib'
  library 'time'
  library 'pp'
  library 'forwardable'
  library 'json'

  # Load all dependency signatures from the `vendor/rbs` directory
  repo_path 'vendor/rbs'
  Dir.children('vendor/rbs').each do |vendor_gem|
    library vendor_gem
  end

  # ffi version 1.17 was shipped with invalid rbs types:
  # https://github.com/ffi/ffi/issues/1107
  library 'libddwaf-stub'
  library 'libdatadog'
end
